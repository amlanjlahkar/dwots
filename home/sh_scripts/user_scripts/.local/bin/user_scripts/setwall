#!/usr/bin/env bash

# Preview and set X11 background image from a collection of images.
# Dependencies: xwallpaper, nsxiv(or sxiv), herbe

wall_path="${XDG_DATA_HOME:-$HOME/.local/share/wallpaper.png}"

selected="$(nsxiv -N 'wallpapers' -b -t -o "${HOME}/media/pictures/wallpapers")"
[ -z "$selected" ] && exit 1 || sleep 1
xwallpaper --zoom "$selected"
cp "$selected" "$wall_path" &&
  herbe "Wallpaper set successfully!"
