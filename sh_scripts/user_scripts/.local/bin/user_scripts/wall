#!/usr/bin/env bash

# simple hack for setting wallpapers through nsxiv
# dependencies: xwallpaper, nsxiv(or sxiv), herbe(notification)

# the default path to save wallpaper to.
wall="${HOME}/.config/wallpaper.png"

# I save all my wallpapers under the below defined path.
# you should change it to where you usually store you wallpapers.
selected="$(nsxiv -N 'wallpapers' -b -t -o "${HOME}/pictures/wallpapers/" 2> /dev/null)" && \
    [ -z "${selected}" ] && exit 1 || sleep 1; xwallpaper --zoom "${selected}"; cp "${selected}" "${wall}" && \
    herbe "Wallpaper set successfully!"
